@(message:String)
@script = {
	<script>
		function format ( d ) {
		    return '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">'+
		        '<tr>'+
		            '<td>Full name:</td>'+
		            '<td>'+d.name+'</td>'+
		        '</tr>'+
		        '<tr>'+
		            '<td>Extension number:</td>'+
		            '<td>'+d.extn+'</td>'+
		        '</tr>'+
		        '<tr>'+
		            '<td>Extra info:</td>'+
		            '<td>And any further details here (images etc)...</td>'+
		        '</tr>'+
		    '</table>';
		}
		$(function() {
			var dt = $("#user_dt");
			dt.DataTable({
				"ajax": "@routes.Application.userinfolist",
		        "columns": [
		                    {
		                        "class":          'details-control',
		                        "orderable":      false,
		                        "data":           null,
		                        "defaultContent": ''
		                    },
		                    { "data": "nickname" },
		                    { "data": "gender" },
		                    { "data": "phone" },
		                    { "data": "milion" },
		                    { "data": "halfmara" },
		                    { "data": "fullmara" },
		                    { "data": "marktime" }
		                ],
		           "order": [[1, 'asc']]
			      "oLanguage": {
			              "sLengthMenu": "每页显示  _MENU_ 条记录",  
			              "sInfo": "从 _START_ 到 _END_ /共 _TOTAL_ 条数据",
			              "oPaginate": {
			                  "sFirst": "首页",
			                  "sPrevious": "前一页",
			                  "sNext": "后一页",
			                  "sLast": "尾页"
			                  },
			              "sZeroRecords": "抱歉， 没有找到",
			              "sInfoEmpty": "没有数据"
			            },
			"columnDefs": [ {
			            "targets": -1,
			            "data": null,
			            "defaultContent": "<button>Click!</button>"
			       	 } ]
			});
		    $('#user_dt tbody').on('click', 'td.details-control', function () {
		        var tr = $(this).closest('tr');
		        var row = table.row( tr );
		        if ( row.child.isShown() ) {
		            row.child.hide();
		            tr.removeClass('shown');
		        }
		        else {
		            row.child( format(row.data()) ).show();
		            tr.addClass('shown');
		        }
		    } );
		   $('#user_dt tbody').on( 'click', 'button', function () {
        var data = table.row( $(this).parents('tr') ).data();
        alert( data[0] +"'s salary is: "+ data[ 5 ] );
    } );
		});
	</script>
}
@content = {
<div class="panel panel-default">
                        <div class="panel-heading">
                            @message
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div class="dataTable_wrapper">
                                <table id="user_dt" class="table table-striped table-bordered table-hover dataTable no-footer" role="grid" aria-describedby="user_dt_info">
                                    <thead>
                                        <tr role="row"><th></th><th class="sorting" tabindex="0" aria-controls="user_dt" rowspan="1" colspan="1" style="width: 5%;" aria-label="Browser: activate to sort column ascending">昵称</th><th class="sorting" tabindex="0" aria-controls="user_dt" rowspan="1" colspan="1" style="width: 5%;" aria-label="Platform(s): activate to sort column ascending">性别</th><th class="sorting" tabindex="0" aria-controls="user_dt" rowspan="1" colspan="1" style="width: 10%;" aria-label="Engine version: activate to sort column ascending">电话</th><th class="sorting" tabindex="0" aria-controls="user_dt" rowspan="1" colspan="1" style="width: 5%;" aria-label="CSS grade: activate to sort column ascending">万米成绩</th><th class="sorting" tabindex="0" aria-controls="user_dt" rowspan="1" colspan="1" style="width: 5%;" aria-label="CSS grade: activate to sort column ascending">半马成绩</th><th class="sorting" tabindex="0" aria-controls="user_dt" rowspan="1" colspan="1" style="width: 5%;" aria-label="CSS grade: activate to sort column ascending">全马成绩</th><th class="sorting" tabindex="0" aria-controls="user_dt" rowspan="1" colspan="1" style="width: 5%;" aria-label="CSS grade: activate to sort column ascending">关注时间</th></tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                            </div>
                        </div>
                        <!-- /.panel-body -->
                    </div>
}
@main("joy-system",script)(content){@views.html.slidebar()}{@views.html.topbar()}